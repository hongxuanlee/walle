var path = require("path");
var fs = require("fs");
var forseti = require("forseti");

var appConfMaker = require("./appConfMaker.js");
var appConfigSampleGenerator = require("./appConfigSample.js");
appConfigSample = appConfigSampleGenerator(appConfMaker);


module.exports = function(app, appConf) {

	// check system mode
	var logger = app.tarsier.logger;
	var systemMode = appConf.systemMode;
	if (typeof systemMode !== "undefined" && systemMode !== "production") {
		logger.log({
			"process": "validate appConf",
			"result": "systemMode is " + systemMode
		});
	} else {
		logger.log("pass: systemMode is production.", "yellow");
		logger.log({
			"process": "validate appConf",
			"result": "systemMode is production."
		});
	}

	var result = forseti.validate(appConf, appConfigSample);
	return result;
}